Get payment to submit
spayed neuter price reduction

 create object License
  :type
  :municipality 
  :county
  :amount_paid
  
  def expired?
    return self.created_at < Date.today + 1.year
  end
  
  def expires_on
    self.created_at + 1.year
  end

  def has_city_license?
    return self.city_license.created_at < Time.now - 1.year
  end

  def has_park_license?
    return self.park_license.created_at < Time.now - 1.year
  end

  def time_left
    Date.now - (self.exires_on)
  end

  def self.check_license_expiration
    Look up city licenses that are not expired
    if close to expiration
      send email reminder to renew
    if expired today
      expire lisence and tell them it expired
    if expired 2 weeks ago tell them
    if expired 4 weeks ago tell them
    if expired 6 weeks . . .
  end

when paying for a license create a new license and expire any old ones. Licensed at multiple cities. . .

registrations edit - add fields for user address etc

our city print flow - make print all link

request us in your city

Licensing is only allowed in Wisconsin


-----------------------------------------------------


add multiple year licenses

61 municipalities in dane county dropdown for city

do payment - pet#index w flash confirm
create and do payment - pet#index w flash confirm

add existing city license numbers

create welcome email
setup sendgrid from team@petpass.net
create confirmation of license email

create reminder email

create humane society type user

multiple year license

DONE

 adjust fee schedule automatically
  - 5$ late fee?
  If After April 1
  Pet is over 5 months old
  Have had pet for more than 30 days 
  A city of madison resident for more than 30 days

  - 10$ prorated fee
  If on or after July 1
  Pet is younger than five months old

park fee schedule
Annual $ 30.00
Senior (65+) $ 15.00
Disabled $ 15.00
Additional Dog (ea.) $ 14.00
Replacement $ 14.00